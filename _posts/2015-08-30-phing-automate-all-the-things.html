---
layout: post
title: Phing ? Automate all the things !
date: 2015-08-30 19:46:48.000000000 -03:00
type: post
published: true
status: publish
categories:
- php
tags:
- automate
- gnu
- phing
- php
- tasks
- xml
meta:
  _edit_last: '1'
  _login_radius_meta: '0'
  _yoast_wpseo_focuskw: phing
  _yoast_wpseo_title: Phing ? Automate all the things !
  _yoast_wpseo_linkdex: '80'
  _yoast_wpseo_opengraph-image: http://marabesi.com/wp-content/uploads/2015/08/logo.gif
  _yoast_wpseo_twitter-image: http://marabesi.com/wp-content/uploads/2015/08/logo.gif
author:
  - Matheus Marabesi
---
<h1>What is Phing ?</h1>
<p>Phing is a tool based on Apache ant to automate tasks. Sometimes we as developers do repetitive tasks such as copy from a host to another, checkout new branches even deploying to a new server, in this scenario Phing comes to stage to help us to automate everything.</p>
<p style="text-align: right;"><em>"<span class="bold"><strong>PH</strong></span>ing <span class="bold"><strong>I</strong></span>s <span class="bold"><strong>N</strong></span>ot <span class="bold"><strong>GN</strong></span>U make; it's a PHP project build system or build tool based on Apache Ant. You can do anything with it that you could do with a traditional build system like GNU make, and its use of simple XML build files and extensible PHP "task" classes make it an easy-to-use and highly flexible build framework. Features include running PHPUnit and SimpleTest unit tests (including test result and coverage reports), file transformations (e.g. token replacement, XSLT transformation, Smarty template transformations), file system operations, interactive build support, SQL execution, CVS/SVN operations, tools for creating PEAR packages, documentation generation (DocBlox, PhpDocumentor) and much more." (<a href="https://www.phing.info/docs/guide/stable/pr01.html" target="_blank">phing.info</a>)</em></p>
<p style="text-align: left;">From official documentation, Phing is defined as :</p>
<p style="text-align: right;"><em><acronym class="acronym">"Phing</acronym> is a project build system based on Apache ant (See <a class="xref" title="[ant]" href="https://www.phing.info/docs/guide/stable/app.bibliography.html#ant">ant </a>). You can do anything with <acronym class="acronym">Phing</acronym> that you could do with a traditional build system like Gnu make (See <a class="xref" title="[gmake]" href="https://www.phing.info/docs/guide/stable/app.bibliography.html#gnumake">gnumake </a>), and <acronym class="acronym">Phing's</acronym> use of simple XML build files and extensible PHP task classes make it an easy-to-use and highly flexible build framework." (<a href="https://www.phing.info/docs/guide/stable/ch.introduction.html" target="_blank">phing.info</a>)</em></p>
<h1>Why should I use Phing ?</h1>
<p>Developers are lazy, right ? Better, good developers are lazy. We know that humans are more likely to make mistakes doing repetitive tasks even in computers. Usually in projects we have a process to do before to start to code. Checkout the repository, run unit tests, run integration tests, create coverage and finally start to code (this process was created with example purposes, you could have a process much bigger or smaller than that). It looks boring, isn't it ? Maybe for just one project its fine to do manually those steps, but think about two, three or four projects. Shall we repeat every step in each project manually ? What will happened if we forget to run unit tests and then start to code ? How about the integration test?</p>
<p>Phing comes on stage to helps us to automate everything ! With Phing is easy to automate boring tasks such as cloning a repository and run unit tests. Of course Phing is much stronger than that. Phing can integrate with a bunch of tools such as <a href="http://dbdeploy.com/" target="_blank">dbDeploy</a> and <a href="https://jenkins-ci.org/" target="_blank">Jenkins</a> to make our life easier.</p>
<p>Phing has a great documentation and a great folks involved on it, you can find more about it in in the official documentation <a href="https://www.phing.info/docs/guide/stable/index.html" target="_blank">here</a> or in the offical website <a href="https://www.phing.info/" target="_blank">here</a>. Also if you want to contribute they are open source and you can check the github repository <a href="https://github.com/phingofficial/phing" target="_blank">here</a>.</p>
<h1>Getting started</h1>
<h3>First of all, we must have Phing installed. Please go ahead and check <a href="https://www.phing.info/trac/wiki/Users/Installation" target="_blank">here</a> to installation process through pear, composer or phar.</h3>
<p>Phing uses XML to compose tasks. Every build.xml file must have an root node called <strong>project</strong>, with an atributte called <strong>default</strong>(you have to fill <strong>default</strong> with your default task you would like to run when Phing is activated, you can see in the example below I use <strong>dist</strong>, it must be the same name of one <strong>target</strong>) and at least one child node called <strong>target</strong>.</p>

{% highlight php %}
<?xml version="1.0" encoding="utf-8"?>
<project name="Basic Task" default="dist">
  <target name="dist">
  </target>
</project>
{% endhighlight %}

<p>Output :</p>

{% highlight sh %}
Warning: target 'dist' has no tasks or dependencies

Basic Task > dist:


BUILD FINISHED

Total time: 0.1204 seconds
{% endhighlight %}

<p>Actually our build.xml doesn't do anything but you can read Phing documentation  to find out core tasks and how to create your own as well.</p>
<h1>Running Phing, a little trick</h1>
<p>Phing assumes by default a build.xml  to run. In other words if you don't specify with -f what file you want to run, Phing will run build.xml automatically.</p>

{% highlight sh %}
phing                //will assume build.xml

phing -f myfile.xml  //will run myfile.xml
{% endhighlight %}

<h1>Going further</h1>
<p>I would like to recommend you dear reader, to have a quickly view <a href="https://www.phing.info/docs/guide/stable/app.coretasks.html" target="_blank">here</a>, in the core tasks. They are really important, because with core tasks (<strong>MkdirTask</strong> to create directories, <strong>DeleteTask</strong> to remove directories, <strong>EchoTask</strong> to show an message, <strong>CopyTask</strong> to copy files)you have many tasks already in Phing, you just have to use it, and you don't have to re-create it.</p>
<p>Also looking further you will need optional tasks. Optional tasks are tasks not related with the core of Phing but it can help you a lot. To name a few Phing has optional task called <strong>PhpLintTask</strong> which provide a easy way to check <a href="http://php.net" target="_blank">PHP</a> sintax through files (Phing has an javascript version of this task called <strong>JslLintTask</strong>), <strong>TarTask</strong> to create tarballs from files or directories, <strong>ZipTask</strong> to create .zip files from files or directories and much more. Go ahead and check Phing <a href="https://www.phing.info/docs/guide/stable/index.html" target="_blank">documentation</a> for more information.</p>
<p>To understand what is the difference between core and optional tasks just keep in mind the most essential task we do in our day, for example, creating folders, giving user feedback, logging and so on those are essensial tasks that every project must have and is not dependent of the used feature, and in Phing's world are known as <strong>Core Tasks</strong>. Otherwise <strong>Optional tasks</strong> comes in a different approach, lets say for instance I'm going to use phpunit to run my unit test suit, but you can use behat or phpspec and those are your choice, and thats why they are called Optional Tasks.</p>
